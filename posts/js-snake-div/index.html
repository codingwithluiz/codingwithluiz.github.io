<html>
  <head>
    <link rel="icon" href="images/favicon.png" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/prism.css" />
    <link rel="stylesheet" href="css/doc.css" />
  </head>
  <body>
  <div class="responsive-wrapper">
    <aside>
      <a target="_blank" href="https://codingwithluiz.github.io/"><img src="images/logo.png"></a>
      <h4 style="margin-top: 0; margin-bottom: 20px">üìå Informa√ß√µes</h4>
      <p><strong>üóì Publicado:</strong><br />April 7, 2025</p>
      <p><strong>‚úçÔ∏è Autor:</strong><br /><a target="_blank" href="https://github.com/codingwithluiz">@codingwithluiz</a></p>
      <p><strong>üìÅ Categoria:</strong><br />Frontend</p>
      <p><strong>üõ† Tecnologias:</strong><br />HTML, Javascript, CSS</p>
      <p><strong>üîó Links:</strong></p>
      <p><a target="_blank" href="https://www.youtube.com/watch?v=0WYwNBjO5Hc"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="32" height="32" viewBox="0 0 48 48">
<path fill="#FF3D00" d="M43.2,33.9c-0.4,2.1-2.1,3.7-4.2,4c-3.3,0.5-8.8,1.1-15,1.1c-6.1,0-11.6-0.6-15-1.1c-2.1-0.3-3.8-1.9-4.2-4C4.4,31.6,4,28.2,4,24c0-4.2,0.4-7.6,0.8-9.9c0.4-2.1,2.1-3.7,4.2-4C12.3,9.6,17.8,9,24,9c6.2,0,11.6,0.6,15,1.1c2.1,0.3,3.8,1.9,4.2,4c0.4,2.3,0.9,5.7,0.9,9.9C44,28.2,43.6,31.6,43.2,33.9z"></path><path fill="#FFF" d="M20 31L20 17 32 24z"></path>
</svg> YouTube</a></p>
      <p><a target="_blank" href="https://github.com/codingwithluiz/js-snake-div"><img src="../../images/github.png" style="margin:0;display: inline;" width="32"> GitHub</a> GitHub</a></p>
      <p><a target="_blank" href="https://codingwithluiz.github.io/"><img src="images/logo.png" style="margin:0;display: inline;" width="32"> CodingWithLuiz</a></p>
    </aside>
    <main>
<h2 id="html-inicial">HTML Inicial</h2>
<p>Vamos iniciar criando o HTML inicial, incluir o arquivo <code>style.css</code> e 
<code>script.js</code>. Nesse projeto ser√° utilizada a biblioteca <code>font-awesome</code>. Para
incluir o CSS no HTML podemos ir na p√°gina https://cdnjs.com/libraries/font-awesome
e copiar a URL da √∫ltima vers√£o da biblioteca. No momento da escrita 
desse artigo a vers√£o √© a <code>6.7.2</code>.</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;title&gt;Snake Game&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css&quot; /&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="adicionar-fontes-do-google">Adicionar Fontes do Google</h2>
<p>Ir no site https://fonts.google.com/ e procurar pela fonte "Open Sans". 
Selecionar a fonte e depois clicar em "Get Font". Ent√£o cliar em "Get embed code"
e na aba "Web" selecionar a op√ß√£o "@import" e ent√£o "Copy code".</p>
<p>Criar o arquivo <code>style.css</code> e colar a fonte selecionada na primeira linha do
arquivo.</p>
<h2 id="html-principal">HTML Principal</h2>
<p>Vamos criar um <code>&lt;div&gt;</code> principal para ser um <em>wrapper</em> para os elementos do jogo.
Basicamente s√£o tr√™s se√ß√µes: </p>
<ul>
<li><code>game-details</code> - local onde √© apresentado a pontua√ß√£o atual do jogar e tamb√©m 
  a maior pontua√ß√£o j√° obtida.</li>
<li><code>play-board</code> - o jogo propriamente dito com a cobrinha e as frutas.</li>
<li><code>controls</code> - mostra os controles para movimentar a cobrinha. As setas s√£o
  da biblioteca "Font Awesome".</li>
</ul>
<pre><code class="language-html">&lt;div class=&quot;wrapper&quot;&gt;
    &lt;div class=&quot;game-details&quot;&gt;
        &lt;span class=&quot;score&quot;&gt;Score: 0&lt;/span&gt;
        &lt;span class=&quot;high-score&quot;&gt;High Score: 0&lt;/span&gt;
    &lt;/div&gt;

    &lt;div class=&quot;play-board&quot;&gt;&lt;/div&gt;

    &lt;div class=&quot;controls&quot;&gt;
        &lt;i data-key=&quot;ArrowLeft&quot; class=&quot;fa-solid fa-arrow-left-long&quot;&gt;&lt;/i&gt;
        &lt;i data-key=&quot;ArrowUp&quot; class=&quot;fa-solid fa-arrow-up-long&quot;&gt;&lt;/i&gt;
        &lt;i data-key=&quot;ArrowRight&quot; class=&quot;fa-solid fa-arrow-right-long&quot;&gt;&lt;/i&gt;
        &lt;i data-key=&quot;ArrowDown&quot; class=&quot;fa-solid fa-arrow-down-long&quot;&gt;&lt;/i&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h2 id="estilos">Estilos</h2>
<p>Vamos abrir o arquivo <code>style.css</code> e iniciar a estiliza√ß√£o do nosso jogo.</p>
<h3 id="estilos-globais">üåç Estilos Globais</h3>
<pre><code class="language-css">* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Open Sans', sans-serif;
}
</code></pre>
<ul>
<li><code>*</code> aplica as regras a <strong>todos os elementos</strong> da p√°gina.</li>
<li><code>margin: 0</code> e <code>padding: 0</code>: remove espa√ßamentos padr√£o.</li>
<li><code>box-sizing: border-box</code>: o tamanho de um elemento inclui bordas e padding.</li>
<li><code>font-family</code>: define Open Sans como fonte padr√£o.</li>
</ul>
<h3 id="corpo-da-pagina">üñºÔ∏è Corpo da P√°gina</h3>
<pre><code class="language-css">body {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: #e3f2fd;
}
</code></pre>
<ul>
<li><code>display: flex</code>: ativa o layout flex√≠vel.</li>
<li><code>align-items: center</code>: centraliza verticalmente.</li>
<li><code>justify-content: center</code>: centraliza horizontalmente.</li>
<li><code>min-height: 100vh</code>: ocupa no m√≠nimo a altura total da tela.</li>
<li><code>background</code>: define um fundo azul-claro agrad√°vel.</li>
</ul>
<h3 id="container-principal">üéÆ Container Principal</h3>
<pre><code class="language-css">.wrapper {
    width: 65vmin;
    height: 70vmin;
    display: flex;
    overflow: hidden;
    flex-direction: column;
    justify-content: center;
    background: #293447;
    border-radius: 5px;
    box-shadow: 0 20px 40px rgba(52, 87, 220, 0.2);
}
</code></pre>
<ul>
<li><code>.wrapper</code>: onde o jogo acontece.</li>
<li><code>vmin</code>: unidades relativas ao menor lado da tela (√≥timo para design responsivo).</li>
<li><code>overflow: hidden</code>: evita que conte√∫do ultrapasse os limites.</li>
<li><code>flex-direction: column</code>: os elementos internos s√£o empilhados verticalmente.</li>
<li><code>background</code>: tom escuro para contrastar com a √°rea de jogo.</li>
<li><code>border-radius</code>: bordas arredondadas.</li>
<li><code>box-shadow</code>: adiciona uma sombra suave para dar profundidade.</li>
</ul>
<h3 id="detalhes-do-jogo">üßæ Detalhes do Jogo</h3>
<pre><code class="language-css">.game-details {
    color: #b8c6dc;
    font-weight: 500;
    font-size: 1.2rem;
    padding: 20px 27px;
    display: flex;
    justify-content: space-between;
}
</code></pre>
<ul>
<li>Estilo para barra de informa√ß√µes do jogo.</li>
<li><code>color</code>: cor de texto clara.</li>
<li><code>font-weight</code>: define peso da fonte (mais espessa).</li>
<li><code>display: flex</code> e <code>justify-content: space-between</code>: distribui pontua√ß√£o e 
  outros detalhes igualmente nas extremidades.</li>
</ul>
<h3 id="tabuleiro-do-jogo">üü© Tabuleiro do Jogo</h3>
<pre><code class="language-css">.play-board {
    height: 100%;
    width: 100%;
    display: grid;
    background: #212837;
    grid-template: repeat(30, 1fr) / repeat(30, 1fr);
}
</code></pre>
<ul>
<li><code>display: grid</code>: cria uma grade.</li>
<li><code>grid-template</code>: 30 linhas e 30 colunas, todos do mesmo tamanho (<code>1fr</code>).</li>
<li>Isso permite movimentar a cobrinha e a comida por c√©lulas bem definidas.</li>
<li><code>background</code>: cor escura que ajuda a destacar a cabe√ßa e a comida.</li>
</ul>
<h3 id="comida-da-cobrinha">üçé Comida da Cobrinha</h3>
<pre><code class="language-css">.play-board .food {
    background: #ff003d;
}
</code></pre>
<ul>
<li>Define a cor da c√©lula que representa a comida: <strong>vermelho vibrante</strong>.</li>
</ul>
<h3 id="cabeca-da-cobrinha">üêç Cabe√ßa da Cobrinha</h3>
<pre><code class="language-css">.play-board .head {
    background: #60cbff;
}
</code></pre>
<ul>
<li>Cor da <strong>cabe√ßa da cobrinha</strong>: azul claro, para se destacar no tabuleiro.</li>
</ul>
<h3 id="controles-visiveis-so-no-mobile">üéÆ Controles (vis√≠veis s√≥ no mobile)</h3>
<pre><code class="language-css">.controls{
    display: none;
    justify-content: space-between;
}
</code></pre>
<ul>
<li>Esconde os controles por padr√£o.</li>
<li><code>justify-content: space-between</code>: quando vis√≠veis, os bot√µes ficam bem 
  distribu√≠dos.</li>
</ul>
<pre><code class="language-css">.controls i {
    padding: 25px 0;
    text-align: center;
    font-size: 1.3rem;
    color: #b8c6dc;
    width: calc(100% / 4);
    cursor: pointer;
    border-right: 1px solid #171b26;
}
</code></pre>
<ul>
<li>Estilo dos bot√µes de dire√ß√£o (√≠cones <code>&lt;i&gt;</code>).</li>
<li><code>width: calc(100% / 4)</code>: 4 bot√µes com o mesmo tamanho.</li>
<li><code>cursor: pointer</code>: mostra que √© clic√°vel.</li>
<li><code>border-right</code>: separa visualmente os bot√µes.</li>
</ul>
<h3 id="responsividade-para-telas-menores">üì± Responsividade (para telas menores)</h3>
<pre><code class="language-css">@media screen and (max-width: 800px) {
</code></pre>
<ul>
<li>Tudo dentro desse bloco s√≥ vale se a tela for menor ou igual a 800px 
  (smartphones e tablets).</li>
</ul>
<pre><code class="language-css">    .wrapper {
        width: 90vmin;
        height: 115vmin;
    }
</code></pre>
<ul>
<li>Aumenta o tamanho do jogo no celular, para melhor jogabilidade.</li>
</ul>
<pre><code class="language-css">    .game-details {
        font-size: 1rem;
        padding: 15px 27px;
    }
</code></pre>
<ul>
<li>Diminui um pouco o tamanho da fonte e o espa√ßamento na barra de informa√ß√µes.</li>
</ul>
<pre><code class="language-css">    .controls {
        display: flex;
    }
</code></pre>
<ul>
<li>Exibe os controles (bot√µes de dire√ß√£o) no mobile.</li>
</ul>
<pre><code class="language-css">    .controls i {
        padding: 15px 0;
        font-size: 1rem;
    }
}
</code></pre>
<ul>
<li>Ajusta o tamanho dos √≠cones dos controles para caber melhor em telas menores.</li>
</ul>
<h2 id="javascript">Javascript</h2>
<p>Vamos criar a arquivo <code>index.js</code> para iniciar a codifica√ß√£o da l√≥gica do jogo da
cobrinha.</p>
<h3 id="selecionando-elementos-do-dom">Selecionando Elementos do DOM</h3>
<pre><code class="language-javascript">const playBoard = document.querySelector(&quot;.play-board&quot;);
const scoreElement = document.querySelector(&quot;.score&quot;);
const highScoreElement = document.querySelector(&quot;.high-score&quot;);
const controls = document.querySelectorAll(&quot;.controls i&quot;);
</code></pre>
<ul>
<li>Aqui selecionamos elementos do HTML usando <code>document.querySelector</code>:</li>
<li><code>.play-board</code>: a √°rea do jogo.</li>
<li><code>.score</code>: exibe a pontua√ß√£o atual.</li>
<li><code>.high-score</code>: exibe o recorde.</li>
<li><code>.controls i</code>: todos os bot√µes dentro da classe <code>controls</code> (para celulares).</li>
</ul>
<h3 id="variaveis-do-jogo">Vari√°veis do Jogo</h3>
<pre><code class="language-javascript">let gameOver = false;
let foodX, foodY;
let snakeX = 5, snakeY = 5;
let velocityX = 0, velocityY = 0;
let snakeBody = [];
let setIntervalId;
let score = 0;
</code></pre>
<ul>
<li><code>gameOver</code>: indica se o jogo terminou.</li>
<li><code>foodX</code>, <code>foodY</code>: coordenadas da comida.</li>
<li><code>snakeX</code>, <code>snakeY</code>: posi√ß√£o da cabe√ßa da cobra.</li>
<li><code>velocityX</code>, <code>velocityY</code>: dire√ß√£o de movimento da cobra.</li>
<li><code>snakeBody</code>: array com as posi√ß√µes do corpo da cobra.</li>
<li><code>setIntervalId</code>: ID do <code>setInterval</code> para controle.</li>
<li><code>score</code>: pontua√ß√£o atual.</li>
</ul>
<h3 id="armazenando-e-exibindo-o-recorde">üèÜ Armazenando e Exibindo o Recorde</h3>
<pre><code class="language-javascript">let highScore = localStorage.getItem(&quot;high-score&quot;) || 0;
highScoreElement.innerText = `High Score: ${highScore}`;
</code></pre>
<ul>
<li>Verifica se h√° um <code>high-score</code> salvo no navegador.</li>
<li>Se n√£o existir, define como 0.</li>
<li>Atualiza o texto da pontua√ß√£o m√°xima.</li>
</ul>
<h3 id="atualiza-a-posicao-da-comida">üçé Atualiza a Posi√ß√£o da Comida</h3>
<pre><code class="language-javascript">const updateFoodPosition = () =&gt; {
    foodX = Math.floor(Math.random() * 30) + 1;
    foodY = Math.floor(Math.random() * 30) + 1;
}
</code></pre>
<ul>
<li>Gera posi√ß√µes aleat√≥rias de 1 a 30 (colunas e linhas do grid).</li>
<li><code>Math.random()</code> retorna um n√∫mero de 0 a 1.</li>
<li><code>Math.floor()</code> arredonda para baixo.</li>
</ul>
<h3 id="lida-com-o-fim-do-jogo">üíÄ Lida com o Fim do Jogo</h3>
<pre><code class="language-javascript">const handleGameOver = () =&gt; {
    clearInterval(setIntervalId);
    alert(&quot;Game Over! Press OK to replay...&quot;);
    location.reload();
}
</code></pre>
<ul>
<li>Para o jogo com <code>clearInterval</code>.</li>
<li>Mostra um <code>alert()</code> para o jogador.</li>
<li>Recarrega a p√°gina para reiniciar o jogo.</li>
</ul>
<h3 id="muda-a-direcao-da-cobra-com-o-teclado">üéÆ Muda a Dire√ß√£o da Cobra com o Teclado</h3>
<pre><code class="language-javascript">const changeDirection = e =&gt; {
    if (e.key === &quot;ArrowUp&quot; &amp;&amp; velocityY != 1) {
        velocityX = 0;
        velocityY = -1;
    } else if (e.key === &quot;ArrowDown&quot; &amp;&amp; velocityY != -1) {
        velocityX = 0;
        velocityY = 1;
    } else if (e.key === &quot;ArrowLeft&quot; &amp;&amp; velocityX != 1) {
        velocityX = -1;
        velocityY = 0;
    } else if (e.key === &quot;ArrowRight&quot; &amp;&amp; velocityX != -1) {
        velocityX = 1;
        velocityY = 0;
    }
}
</code></pre>
<ul>
<li>Verifica a tecla pressionada.</li>
<li>Garante que a cobra n√£o possa inverter diretamente (por exemplo, ir de cima para baixo).</li>
<li>Atualiza a dire√ß√£o da cobra com <code>velocityX</code> e <code>velocityY</code>.</li>
</ul>
<h3 id="muda-a-direcao-com-botoes-celular">üïπÔ∏è Muda a Dire√ß√£o com Bot√µes (Celular)</h3>
<pre><code class="language-javascript">controls.forEach(button =&gt; 
    button.addEventListener(&quot;click&quot;, () =&gt; 
        changeDirection({ key: button.dataset.key }))
);
</code></pre>
<ul>
<li>Para cada bot√£o de controle, adiciona um evento <code>click</code>.</li>
<li>Simula uma tecla pressionada com <code>{ key: button.dataset.key }</code>.</li>
</ul>
<h3 id="funcao-principal-initgame">üü¢ Fun√ß√£o Principal: <code>initGame()</code></h3>
<pre><code class="language-javascript">const initGame = () =&gt; {
    if (gameOver) return handleGameOver();
</code></pre>
<ul>
<li>Se <code>gameOver</code> for <code>true</code>, para tudo e chama <code>handleGameOver()</code>.</li>
</ul>
<h4 id="renderiza-a-comida">‚úÖ Renderiza a comida</h4>
<pre><code class="language-javascript">    let html = `&lt;div class=&quot;food&quot; style=&quot;grid-area: ${foodY} / ${foodX}&quot;&gt;&lt;/div&gt;`;
</code></pre>
<ul>
<li>Cria a comida dinamicamente usando <code>grid-area</code> para posicionamento.</li>
</ul>
<h4 id="a-cobra-come-a-comida">üçΩÔ∏è A cobra come a comida?</h4>
<pre><code class="language-javascript">    if (snakeX === foodX &amp;&amp; snakeY === foodY) {
        updateFoodPosition();
        snakeBody.push([foodY, foodX]);
        score++;
        highScore = score &gt;= highScore ? score : highScore;
        localStorage.setItem(&quot;high-score&quot;, highScore);
        scoreElement.innerText = `Score: ${score}`;
        highScoreElement.innerText = `High Score: ${highScore}`;
    }
</code></pre>
<ul>
<li>Se a cabe√ßa da cobra est√° na mesma posi√ß√£o da comida:</li>
<li>Gera nova comida.</li>
<li>Adiciona um novo segmento no corpo.</li>
<li>Incrementa o score.</li>
<li>Atualiza o <code>highScore</code> e salva no navegador.</li>
</ul>
<h4 id="atualiza-a-posicao-da-cabeca">üß† Atualiza a posi√ß√£o da cabe√ßa</h4>
<pre><code class="language-javascript">    snakeX += velocityX;
    snakeY += velocityY;
</code></pre>
<ul>
<li>Move a cabe√ßa com base na velocidade/dire√ß√£o.</li>
</ul>
<h4 id="move-o-corpo-da-cobra">üëï Move o corpo da cobra</h4>
<pre><code class="language-javascript">    for (let i = snakeBody.length - 1; i &gt; 0; i--) {
        snakeBody[i] = snakeBody[i - 1];
    }
    snakeBody[0] = [snakeX, snakeY];
</code></pre>
<ul>
<li>Move cada parte do corpo para a posi√ß√£o da anterior.</li>
<li>A primeira posi√ß√£o vira a nova cabe√ßa.</li>
</ul>
<h4 id="verifica-colisoes-com-parede">üöß Verifica colis√µes com parede</h4>
<pre><code class="language-javascript">    if (snakeX &lt;= 0 || snakeX &gt; 30 || snakeY &lt;= 0 || snakeY &gt; 30) {
        return gameOver = true;
    }
</code></pre>
<ul>
<li>Se a cobra passar dos limites do grid (1 a 30), o jogo acaba.</li>
</ul>
<h4 id="renderiza-a-cobra">üêç Renderiza a cobra</h4>
<pre><code class="language-javascript">    for (let i = 0; i &lt; snakeBody.length; i++) {
        html += `&lt;div class=&quot;head&quot; style=&quot;grid-area: ${snakeBody[i][1]} / ${snakeBody[i][0]}&quot;&gt;&lt;/div&gt;`;
</code></pre>
<ul>
<li>Cria visualmente cada parte do corpo da cobra.</li>
</ul>
<h4 id="verifica-colisao-com-o-proprio-corpo">‚ò†Ô∏è Verifica colis√£o com o pr√≥prio corpo</h4>
<pre><code class="language-javascript">        if (i !== 0 &amp;&amp; snakeBody[0][1] === snakeBody[i][1] &amp;&amp; snakeBody[0][0] === snakeBody[i][0]) {
            gameOver = true;
        }
    }
    playBoard.innerHTML = html;
}
</code></pre>
<ul>
<li>Se a cabe√ßa estiver na mesma posi√ß√£o de alguma parte do corpo, o jogo acaba.</li>
<li>Por fim, atualiza o conte√∫do da <code>playBoard</code>.</li>
</ul>
<h3 id="inicializa-o-jogo">‚ñ∂Ô∏è Inicializa o Jogo</h3>
<pre><code class="language-javascript">updateFoodPosition();
setIntervalId = setInterval(initGame, 100);
document.addEventListener(&quot;keyup&quot;, changeDirection);
</code></pre>
<ul>
<li>Coloca a comida em uma posi√ß√£o inicial.</li>
<li>Chama <code>initGame</code> a cada 100ms.</li>
<li>Ouve teclas pressionadas para mudar a dire√ß√£o.</li>
</ul></div>
</main>
<script src="js/jquery-3.6.0.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/prism.js"></script>
<script>
  Prism.plugins.NormalizeWhitespace.setDefaults({
    "remove-trailing": true,
    "remove-indent": true,
    "left-trim": true,
    "right-trim": true,
    /*'break-lines': 80,
    'indent': 2,
    'remove-initial-line-feed': false,
    'tabs-to-spaces': 4,
    'spaces-to-tabs': 4*/
  });
</script>  
</body>
</html>
